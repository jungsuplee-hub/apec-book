<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>APEC Meeting Rooms - Room Guide</title>
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="icon" type="image/x-icon" href="https://www.apecceosummitkorea2025.com/images/favicon.ico" />
  <style>
    .room-guide .guide-notes{
      margin:12px 0 0;
      padding:0;
      list-style:none;
      display:grid;
      gap:6px;
    }
    .room-guide .guide-notes li{
      background:rgba(68,85,255,0.08);
      border:1px solid rgba(68,85,255,0.25);
      border-radius:12px;
      padding:10px 14px;
      color:#d5e3ff;
      font-size:var(--fs-sm);
    }
    .room-card-grid{margin-top:28px;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}
    .highlight{color:#ffd166;font-weight:700}
    .room-card{
      border:1px solid var(--line);
      border-radius:20px;
      background:linear-gradient(160deg,rgba(16,28,48,0.95),rgba(10,17,32,0.95));
      padding:20px;
      display:flex;
      flex-direction:column;
      gap:16px;
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .room-card-image{
      position:relative;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.1);
      background:#060b15;
      overflow:hidden;
      aspect-ratio:4/3;
      cursor:zoom-in;
    }
    .room-card-image img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transition:transform 0.4s ease;
    }
    .room-card:hover .room-card-image img{transform:scale(1.03);}
    .room-name{margin:0;font-size:var(--fs-lg);font-weight:800;text-transform:uppercase;letter-spacing:0.05em}
    .room-meta{display:grid;gap:8px}
    .room-meta div{display:flex;justify-content:space-between;gap:12px;font-size:var(--fs-sm);color:#d5e3ff}
    .room-meta dt{opacity:0.65}
    .room-meta dd{margin:0;font-weight:700}
    .room-features{display:flex;flex-wrap:wrap;gap:8px}
    .chip-small{border:1px solid rgba(255,255,255,0.18);border-radius:999px;padding:6px 12px;font-size:var(--fs-xs,13px);color:#e9f1ff;background:rgba(255,255,255,0.06)}
    .image-lightbox{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:30px;
      background:rgba(5,10,25,0.85);
      z-index:999;
    }
    .image-lightbox.is-visible{display:flex;}
    .image-lightbox[aria-hidden="true"]{display:none;}
    .image-lightbox-backdrop{position:absolute;inset:0;}
    .image-lightbox-content{
      position:relative;
      max-width:min(900px,90vw);
      max-height:90vh;
      display:flex;
      flex-direction:column;
      gap:16px;
      background:rgba(10,20,40,0.96);
      border:1px solid rgba(255,255,255,0.18);
      border-radius:20px;
      padding:24px;
      box-shadow:0 20px 40px rgba(0,0,0,0.4);
    }
    .image-lightbox img{
      width:100%;
      max-height:60vh;
      object-fit:contain;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.18);
      background:#040915;
    }
    .image-lightbox-title{margin:0;font-size:var(--fs-lg);font-weight:700;color:#fff;}
    .image-lightbox-close{
      position:absolute;
      top:14px;
      right:14px;
      border:none;
      background:rgba(9,15,30,0.8);
      color:#fff;
      width:36px;
      height:36px;
      border-radius:50%;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      transition:background 0.2s ease;
    }
    .image-lightbox-close:hover,
    .image-lightbox-close:focus{background:rgba(255,255,255,0.2);outline:none;}
    @media (max-width:768px){
      .image-lightbox{padding:16px;}
      .image-lightbox-content{padding:18px;}
    }
    @media (max-width:768px){
      .room-card{padding:16px}
    }
  </style>
</head>
<body>
<header class="topbar">
  <div class="topbar-inner">
      <div class="brand">
        <a href="/" class="brand-logo" aria-label="Home">
          <img src="/static/logo-apec.png" alt="APEC" />
        </a>
      </div>
      <div class="topbar-title">MEETING ROOM RESERVATION</div>
    <nav class="nav">
      <a href="/booking" class="button">Back to Booking</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <section class="card room-guide">
    <h1 class="title">Room Guide</h1>
    <ul class="guide-notes">
      <li><strong>Each company</strong> may reserve <span class="highlight">up to two meeting times per day</span>, with a <span class="highlight">60-minute session per booking</span> (including 45 minutes of use and 15 minutes for cleanup).</li>
      <li>Explore the meeting rooms curated for <strong>APEC CEO Summit Korea 2025</strong>. Tap the room image to enlarge it and see detailed amenities.</li>
      <li><strong>Meeting Rooms 1â€“9</strong> are available to <strong>Diamond</strong>, <strong>Platinum</strong>, <strong>Gold</strong>, <strong>Legal Partner</strong>, and <strong>Knowledge Partner</strong> tiers.</li>
      <li><strong>Outdoor Meeting Rooms 1 &amp; 2</strong> and the <strong>Media Interview Room</strong> are allocated to <strong>Media Partner - Premier</strong>, <strong>Media Partner - Platinum</strong>, and <strong>Media Partner - Gold</strong> tiers.</li>
      <li><strong>Other</strong> entries may reserve <strong>Outdoor Meeting Rooms 1 &amp; 2</strong>.</li>
      <li>The meeting room setup may be adjusted based on on-site conditions.</li>
    </ul>

    <div class="room-card-grid">
      {% for room in rooms %}
      <article class="room-card">
        <div class="room-card-image" role="button" tabindex="0" aria-label="View larger image of {{ room.name }}" data-room-image="{{ room.image }}" data-room-name="{{ room.name }}">
          <img src="{{ room.image }}" alt="{{ room.name }}" loading="lazy" />
        </div>
        <h3 class="room-name">{{ room.name }}</h3>
        <dl class="room-meta">
          <div><dt>Location</dt><dd>{{ room.location }}</dd></div>
          <div><dt>Capacity</dt><dd>{{ room.capacity }} pax</dd></div>
        </dl>
        <div class="room-features">
          {% for feature in room.features %}
          <span class="chip-small">{{ feature }}</span>
          {% endfor %}
        </div>
      </article>
      {% endfor %}
    </div>
  </section>
</main>

<div class="image-lightbox" id="roomLightbox" aria-hidden="true">
  <div class="image-lightbox-backdrop" data-dismiss></div>
  <div class="image-lightbox-content" role="dialog" aria-modal="true" aria-labelledby="roomLightboxTitle">
    <button class="image-lightbox-close" type="button" data-dismiss aria-label="Close image">&times;</button>
    <h2 class="image-lightbox-title" id="roomLightboxTitle"></h2>
    <img src="" alt="" id="roomLightboxImage" />
  </div>
</div>

<script>
  (function () {
    const lightbox = document.getElementById('roomLightbox');
    if (!lightbox) return;

    const titleEl = document.getElementById('roomLightboxTitle');
    const imageEl = document.getElementById('roomLightboxImage');
    const closeButton = lightbox.querySelector('.image-lightbox-close');
    const dismissSelectors = '[data-dismiss]';
    const ACTIVATE_KEYS = ['Enter', ' ', 'Spacebar'];
    let lastFocused = null;

    function openLightbox(name, imageSrc) {
      lastFocused = document.activeElement;
      titleEl.textContent = name;
      imageEl.src = imageSrc;
      imageEl.alt = name;
      lightbox.classList.add('is-visible');
      lightbox.setAttribute('aria-hidden', 'false');
      if (closeButton) {
        closeButton.focus();
      }
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
      lightbox.classList.remove('is-visible');
      lightbox.setAttribute('aria-hidden', 'true');
      imageEl.src = '';
      document.body.style.overflow = '';
      if (lastFocused && typeof lastFocused.focus === 'function') {
        lastFocused.focus();
      }
    }

    lightbox.addEventListener('click', (event) => {
      if (event.target.matches(dismissSelectors)) {
        closeLightbox();
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && lightbox.classList.contains('is-visible')) {
        closeLightbox();
      }
    });

    document.querySelectorAll('.room-card-image').forEach((el) => {
      const name = el.getAttribute('data-room-name');
      const imageSrc = el.getAttribute('data-room-image');

      function handleActivate(event) {
        if (event.type === 'keydown' && !ACTIVATE_KEYS.includes(event.key)) {
          return;
        }
        event.preventDefault();
        openLightbox(name, imageSrc);
      }

      el.addEventListener('click', handleActivate);
      el.addEventListener('keydown', handleActivate);
    });
  })();
</script>
</body>
</html>
